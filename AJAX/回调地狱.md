## 回调地狱的产生

简单来说，就是函数作为参数层层嵌套，然后又一层一层等待上一层的执行结果，如果这些函数的功能是异步的请求，那么这些函数就会消耗很长时间（就会与网速等多方面原因有关）

什么是回调函数呢？

回调函数就是，一个函数作为参数传递到另一个函数中。

回调地狱的原因：当人们试图以一种从上到下的视觉方式来编写并执行JavaScript代码，期望着第一行发生的任何事都会在第二行代码运行之前完成，以此类推。

## 如何解决回调地狱

1. 保持代码简洁，可读性高
   1. 不要嵌套太深的功能，可以给它们名字然后放到程序的顶层
   2. 给匿名函数起名字，这样做有很多好处：
      1. 由于描述性功能名称，使代码可读性更高
      2. 当发生异常时，你会得到具名函数名称而不是匿名函数的堆栈跟踪
      3. 允许你移动功能并按名称引用它们
2. 模块化
   1. 这是最重要的部分，任何人都有能力创建模块。
   2. 编写一个小的模块，每个模块做一件事，然后将它们组装成其他模块，做更大的事情。
3. 处理每一处错误
   1. 不让你的程序有任何一处错误，尽管它此时没有影响你程序的执行，但这就像一个定时炸弹，指不定什么时候就会 嘭！game over
   2. 在你认为可能会出错的地方做处理，如果出错就要返回出来出错原因，这样会提高你代码的健壮性

**以下是创建模块时的一些经验法则**：

- 首先将重复使用的代码移入一个函数
- 当你的函数（或与同一主题相关的一组函数）变得足够大时，将它们移动到另一个文件中并使用module.exports将其公开。你可以使用相对需求来加载它
- 如果你有一些可以在多个项目中使用的代码，给它自己的readme，tests和package.json，并将它发布到github和npm。这里列出的具体方法有太多令人敬畏的好处
- 一个好的模块很小，专注于一个问题
- 模块中的单个文件不应超过150行左右的JavaScript
- 一个模块不应该有多于一个嵌套文件夹级别的文件夹。如果是这样，它可能做了太多事情
- 请你认识的更有经验的编程人员向你展示优秀模块的例子，直到你对他们的样子有了一个好的想法。如果需要花费几分钟时间