<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		// 力扣第135题
		// 分发糖果
		// 老师想给孩子们分发糖果，有 N 个孩子站成了一条直线，老师会根据每个孩子的表现，预先给他们评分。

		// 你需要按照以下要求，帮助老师给这些孩子分发糖果：

		// 每个孩子至少分配到 1 个糖果。
		// 相邻的孩子中，评分高的孩子必须获得更多的糖果。
		// 那么这样下来，老师至少需要准备多少颗糖果呢？

		// 示例 1:

		// 输入: [1,0,2]
		// 输出: 5
		// 解释: 你可以分别给这三个孩子分发 2、1、2 颗糖果。


		var candy = function(ratings) {
		    // 贪心思想：高分的要比低分的糖多，那么就多一个，最低分的只有一颗糖这样就可以保证老师准备的糖最少
		    // 这些孩子排成一排，获得的糖数一定满足左规则（从左往右，分多的糖多）和右规则（从右往左，分多的糖多），最后取得左规则和右规则中每个孩子获得糖果的最大值即可
		    const len = ratings.length;
		    let left = new Array(len).fill(1);
		    let right = new Array(len).fill(1);
		    let res = 0;
		    for(let i = 1, j = len - 2; i < len; i ++, j--) {
		        if(ratings[i] > ratings[i - 1]) left[i] = left[i - 1] + 1;
		        if(ratings[j] > ratings[j + 1]) right[j] = right[j + 1] + 1
		    }
		    for(let i = 0; i < len; i ++) {
		        res += Math.max(left[i], right[i]);
		    }
		    return res;
		};
	</script>
</body>
</html>