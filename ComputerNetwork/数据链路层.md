# 计算机网络——数据链路层

主要讨论局域网内部如何进行数据交换。

数据链路层使用的信道主要有一下两种类型：

- 点对点信道：一对一通信方式
- 广播信道：一对多通信方式

## 点对点信道

**链路：**

- 是一条无源的**点到点的物理线路段**，中间没有任何其他的交换节点！

**数据链路：**

- 即有数据传输的链路

**帧：**

- 数据链路层的数据单元

物理层数据单元是比特，数据链路层是帧，网络层是IP数据报（分组），链路上是信号。

A-->B

网络层--数据链路层--物理层---------------链路---------------物理层---数据链路层---网络层。

### 三个基本问题

#### 1.封装成帧

就是在一段数据的前后分别**添加首部和尾部**，然后就构成了一个帧。

封装的对象：网络层的分组；

封装的目的：进行帧定界（说明哪里是一段帧的开始和结束）

如何封装帧：帧开始符（SOH）  帧数据    帧结束符（EOT）

#### 2.透明传输

如果在帧数据部分中恰好出现EOT（帧结束符），让它假装没看到，继续接收数据。

可以用**字节填充法**解决透明传输的问题。

##### 字节填充法：

在帧数据中出现的EOT/SOH/ESC前面添加一个转义字符  ESC ，类似于编程中的 \ 转义字符

#### 3.差错检测

传输过程出现比特错误（1变0或0变1）怎么办？

错误率（误码率）BER  =  错误字节数/传输字节数   		越低越好

产生差错的原因：

- 信道存在噪声
  - 热噪声：内部电子元件工作产生的噪声（强度很小，随机性强）
  - 冲击噪声（**主要原因**）：外界噪声，比如闪电、大功率设备的启停 （幅度大，偶尔发生）
  - 由热噪声产生的差错叫随机差错；由冲击噪声引起的差错叫突击差错。

检测差错的方法：

- 奇偶校验法
- 循环冗余校验法（CRC）（使用最广泛）
  - 在传输方：将数据（110101）后面放3或多个0，然后除以1101（比前面的0的个数多一位）然后得到余数，用余数将前面多个0替换掉。在接收方：将数据除以1101...判断是否整除，若不整除，则数据是错的，舍弃掉  
  - 这种检测有很小的可能出错
  - 出错的概率和冗余码（FCS）的位数成反比，

## 广播信道

局域网最主要的特点是：网络为一个单位所拥有，且地理范围和站点数目均有限。

局域网主要的优点：

- 具有广播功能，从一个站点可以很方便的访问全网。

局域网的拓扑分类：

- 星型网
- 总线网
- 环形网
- 树形网













*

























*